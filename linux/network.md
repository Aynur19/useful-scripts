# Команды для работы с сетевыми интерфейсами в Linux

## Настройка сетевой конфигурации при установке Linux (Ubuntu)

1. Во время установки ОС на этапе "Network Configuration" нужно выбрать сетевой интерфейс `enp0s3` -> **Edit IPv4**
2. Установить в качестве **IPv4 Method** -> **Вручную (manual)** (для установки статического IP адреса машины)
3. Указать следующие параметры:
    - Подсеть:              192.168.1.0/24
    - Адрес:                192.168.1.10            # статический адрес машины 
    - Шлюз (gateway):       192.168.1.1
    - Name server (DNS):    8.8.8.8,8.8.4.4        # DNS Google 

4. После установки серверной Ubuntu 24.04 необходимо удостовериться что настройки сети применились. 

Команда `ifconfig` (должен быть установлен пакет `net-tools`):
```shell
ifconfig
```

Команда `ip` (поставляется вместе с ОС **Ubuntu**):
```shell
ip addr show
```

5. Файл с конфигурацией сети можно открыть с помощью команды (для изменения нужно открывать от имени `root`):
```shell
sudo nano /etc/netplan/50-cloud-init.yaml
```

В итоге должен открыться файл с таким содержимым:

**/etc/netplan/50-cloud-init.yaml**
```yaml
network:
    ethernets:
        enp0s3:
            addresses:
            - 192.168.1.10/24
            nameservers:
                addresses: 
                - 8.8.8.8
                - 8.8.4.4
                search: []
            routes:
            -   to: default
                via: 192.168.1.1
    version: 2
```